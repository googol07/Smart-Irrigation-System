


alert("connected")

var start1 = document.querySelector("#start1");
var stop1 = document.querySelector("#stop1");

var rendon = document.querySelector("#modify");
var rendmoist = document.querySelector("#moist");
var rendtempe = document.querySelector("#temp");

var automat = document.querySelector("#automat");
var manual = document.querySelector("#manual");

var on = false;
var autom = true;  


    start1.addEventListener("click" , function(){   
        if(!on){ 
        alert("The Sprinklers are about to start");
        on = true;
        rendon.textContent = "ON";   
        }
    } );



    stop1.addEventListener("click" , function(){   
        if(on){ 
        alert("The sprinklers will stop");
        on = false; 
        rendon.innerHTML = "OFF";   
        }
    } );

  

    automat.addEventListener("click" , function(){   
        start1.style.display = "none";
        stop1.style.display = "none";
        autom = true;
        
    } );

    manual.addEventListener("click" , function(){   
        start1.style.display = "inline";
        stop1.style.display = "inline";
        autom = false; 
    } );


var moisture = [53,56,67,65,63,65,56,62,59,51,52,57,60,69,53,56,50,56,62,66,61,58,57,59,52,60,52,53,57,65,59,52,52,68,59,57,63,66,61,52,59,63,  
    51,69,54,67,68,54,65,60,63,56,61,50,66,63,52,60,66,51,55,55,54,57,66,55,56,59,63,67,54,65,52,55,64,57,64,54,53,60,57,58,66,68,  
    58,54,53,61,64,69,62,50,66,58,69,62,56,56,64,69,65,60,64,68,57,51,67,52,67,62,62,66,51,50,56,51,55,59,54,69,50,59,61,67,67,61,  
    51,65,59,57,57,66,67,63,56,55,56,53,69,54,58,61,62,59,53,69,60,58,58,65,50,59,66,53,68,55,56,61,51,65,69,58,54,58,51,60,63,50,  
    64,54,54,64,57,66,53,61,57,55,69,66,62,61,67,58,65,57,64,51,68,65,59,67,65,63,68,58,53,61,58,59,66,54,53,53,63,68,56,50,54,68,  
    58,58,59,67,67,66,54,53,60,53,60,69,62,55,54,60,55,69,64,56,59,52,52,54,67,57,65,54,58,61,52,58,69,53,56,58,50,52,61,60 , 53,56,67,65,63,65,56,62,59,51,52,57,60,69,53,56,50,56,62,66,61,58,57,59,52,60,52,53,57,65,59,52,52,68,59,57,63,66,61,52,59,63,  
    51,69,54,67,68,54,65,60,63,56,61,50,66,63,52,60,66,51,55,55,54,57,66,55,56,59,63,67,54,65,52,55,64,57,64,54,53,60,57,58,66,68,  
    58,54,53,61,64,69,62,50,66,58,69,62,56,56,64,69,65,60,64,68,57,51,67,52,67,62,62,66,51,50,56,51,55,59,54,69,50,59,61,67,67,61,  
    51,65,59,57,57,66,67,63,56,55,56,53,69,54,58,61,62,59,53,69,60,58,58,65,50,59,66,53,68,55,56,61,51,65,69,58,54,58,51,60,63,50,  
    64,54,54,64,57,66,53,61,57,55,69,66,62,61,67,58,65,57,64,51,68,65,59,67,65,63,68,58,53,61,58,59,66,54,53,53,63,68,56,50,54,68,  
    58,58,59,67,67,66,54,53,60,53,60,69,62,55,54,60,55,69,64,56,59,52,52,54,67,57,65,54,58,61,52,58,69,53,56,58,50,52,61,60];


var temperature = [28,43,36,34,32,34,37,39,42,28,41,40,41,34,32,31,33,27,43,37,44,35,42,42,35,35,35,40,28,28,32,27,27,39,32,30,28,43,40,43,42,36,36,38,41,40,41,29,38,39,38,37,28,35,35,36,41,41,31,40,42,36,41,42,29,44,43,30,40,38,27,36,27,36,29,42,29,41,42,41,34,33,33,35,41,39,42,38,35,28,33,33,35,27,28,37,43,27,39,38,36,37,29,37,44,30,32,29,42,27,43,29,34,29,35,28,42,32,37,32,31,42,36,40,42,38,30,38,36,40,30,43,32,30,33,32,31,38,32,29,37,30,29,44,30,38,27,27,43,38,31,30,33,38,41,28,29,42,40,38,38,43,35,41,28,41,28,31,35,31,33,43,32,35,42,36,44,40,36,43,31,38,44,37,32,38,39,34,35,34,44,28,30,34,41,29,30,42,33,36,29,37,34,34,44,29,41,43,43,31,39,27,42,36,38,27,29,30,33,38,35,32,37,38,37,33,38,38,29,43,30,29,33,35,34,30,36,31,29,32,35,39,32,30,31,41,31,31,44,37,28,43,36,34,32,34,37,39,42,28,41,40,41,34,32,31,33,27,43,37,44,35,42,42,35,35,35,40,28,28,32,27,27,39,32,30,28,43,40,43,42,36,36,38,41,40,41,29,38,39,38,37,28,35,35,36,41,41,31,40,42,36,41,42,29,44,43,30,40,38,27,36,27,36,29,42,29,41,42,41,34,33,33,35,41,39,42,38,35,28,33,33,35,27,28,37,43,27,39,38,36,37,29,37,44,30,32,29,42,27,43,29,34,29,35,28,42,32,37,32,31,42,36,40,42,38,30,38,36,40,30,43,32,30,33,32,31,38,32,29,37,30,29,44,30,38,27,27,43,38,31,30,33,38,41,28,29,42,40,38,38,43,35,41,28,41,28,31,35,31,33,43,32,35,42,36,44,40,36,43,31,38,44,37,32,38,39,34,35,34,44,28,30,34,41,29,30,42,33,36,29,37,34,34,44,29,41,43,43,31,39,27,42,36,38,27,29,30,33,38,35,32,37,38,37,33,38,38,29,43,30,29,33,35,34,30,36,31,29,32,35,39,32,30,31,41,31,31,44,37];    
//  for(var i=0; i<arr.length; i++){
//     sleep(2000);
   
//  }

//  function sleep(ms) {
//     return new Promise(resolve => setTimeout(resolve, ms));
//   }
  
//   async function delayedGreeting() {
//     console.log("Hello");
//     await sleep(2000);
//     console.log("World!");
//   }
  
//   delayedGreeting();
//   console.log("Goodbye!");

//   arr.forEach(async (arr) => {
//           await sleep(2000);
//           rendval.textContent = arr;  
//       });



var i = 0;

(function loop() {
    rendmoist.textContent = moisture[i];
    rendtempe.textContent = temperature[i];

    if(autom){
    if(moisture[i] < 60){
        rendon.textContent = "ON";
    }
    else if(moisture[i] < 65 && temperature[i] > 40){
        rendon.textContent = "ON";
    }
    else{
        rendon.textContent = "OFF";
    }
    }

    if (++i < moisture.length) {
        setTimeout(loop, 1000);  // call myself in 3 seconds time if required
    }
})(); 




